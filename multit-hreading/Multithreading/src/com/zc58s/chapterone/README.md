### 并发编程的挑战
```text
    并发编程的目的是为了让程序运行得更快，但是，并不是启动了更多的线程就能让程序最大限度的并发执行。
在进行并发编程时，如果希望通过多线程执行任务让程序执行更快，会面临非常多的挑战，比如上下文切换问题，
死锁问题，以及受限于硬件和软件的资源限制问题。
```

####  1.1上下文切换
```text
    即使是单核处理器也支持多线程执行代码，CPU通过给每个线程分配CPU时间片来实现这个机制。时间片是CPU
分配给各个线程的时间，因为时间片间隔非常短，所以CPU在通过不停的切换上下文执行线程时，让我们感觉多线程
是同时执行的，CPU时间片一般间隔时间为几十毫秒（ms），windows我们了解到的默认一般为15ms，这个时间是
可以修改的。
    CPU通过时间分配算法来循环执行任务，当前任务执行一个时间片之后会切换到下一个任务。但是，在切换前会保
存上一个任务的状态，以便于下一次切换回来时，可以加载这个任务的状态。所以任务从保存到加载的这一个过程就
是一次上下文切换。
```

#### 1.2如何减少上下文切换

#####  1、无锁并发编程
```text

```
#####  2、CAS算法
```text

```
#####  3、使用最少线程
```text
这个就是避免创建不必要的线程。比如任何很少，就没必要创建很多线程来处理，有时候，单线程处理比多线程更优。
```
#####  4、协程
```text

```

#### 1.3死锁
```text
    死锁是怎么造成的？
    就是两个线程，都在等待对方释放锁，这就形成了死锁。

    那么，如何避免呢？
    1、锁要设计超时时间；
    2、编码时，要考虑到异常问题，在程序加锁后，不管执行成功与失败都需要释放锁；
    3、上面我们说到，死锁是因为线程双方都需要等待对释放锁，那么我们在开发中，尽量避免多个锁的情况，也就是我们所说的嵌套锁，这种情况一定要杜绝；
    4、避免一个线程在锁内同时占用多个资源，尽量保证每个锁只占用一个资源（书上说的）。这句话怎么理解?
        我现在有两个资源，也就是需要我们做同步的，这两个资源都需要上锁。
        目前我们有A、B两个线程，
        
```

